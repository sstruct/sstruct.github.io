<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JS 常用函数和简单算法（二） · yangtze 的独立博客</title><meta name="description" content="JS 常用函数和简单算法（二） - yangtze"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/u/5511562391" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/sstruct" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">JS 常用函数和简单算法（二）</h1><div class="post-time">Apr 17, 2016</div><div class="post-content"><blockquote>
<p>续上篇，基本都是数组和字符串的操作x8题</p>
</blockquote>
<a id="more"></a>
<h1 id="有二维数组，返回每个子数组中的最大数字"><a href="#有二维数组，返回每个子数组中的最大数字" class="headerlink" title="有二维数组，返回每个子数组中的最大数字"></a>有二维数组，返回每个子数组中的最大数字</h1><p>如 ：<code>[[4, 9, 1, 3], [13, 35, 18, 26], [32, 35, 97, 39], [1000000, 1001, 857, 1]] -&gt; [9, 35, 97, 1000000]</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">largestOfFour</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newArr=[];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;=<span class="number">3</span>;i++)&#123;</span><br><span class="line">    newArr[i]=arr[i]</span><br><span class="line">      .sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a-b;&#125;)	<span class="comment">// 数字升序排序</span></span><br><span class="line">      .pop();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">largestOfFour([[<span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>], [<span class="number">13</span>, <span class="number">27</span>, <span class="number">18</span>, <span class="number">26</span>], [<span class="number">32</span>, <span class="number">35</span>, <span class="number">37</span>, <span class="number">39</span>], [<span class="number">1000</span>, <span class="number">1001</span>, <span class="number">857</span>, <span class="number">1</span>]]);</span><br></pre></td></tr></table></figure>
<p><code>sort()</code>在这里有个小坑，在进行数字比较的时候，会提前将数字转化为字符串，然后进行比较，所以会出现<code>1001&lt;857</code>的情况。我们需要做的跟上一篇中找最长单词类似，就是给sort()指定比较方法</p>
<h1 id="给定一个语句和一个单词，检查语句末尾是否为该单词"><a href="#给定一个语句和一个单词，检查语句末尾是否为该单词" class="headerlink" title="给定一个语句和一个单词，检查语句末尾是否为该单词"></a>给定一个语句和一个单词，检查语句末尾是否为该单词</h1><p>如：<br><code>(&quot;What&#39;s your name&quot;,&quot;name&quot;) -&gt; ture</code>;<code>(&quot;I&#39;m fine&quot;,&quot;bad&quot; -&gt; false)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">confirmEnding</span>(<span class="params">str, target</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// "Never give up and good luck will find you."</span></span><br><span class="line">  <span class="comment">// -- Falcor</span></span><br><span class="line">  <span class="keyword">var</span> len = target.length;</span><br><span class="line">  <span class="keyword">return</span> str.substr(-len) == target?<span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">confirmEnding(<span class="string">"Bastian"</span>, <span class="string">"n"</span>);</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr" target="_blank" rel="external">substr()</a>方法返回字符串中从指定位置开始到指定长度的子字符串。</p>
<p>语法：</p>
<blockquote>
<p>str.substr(start[, length])</p>
<p>start 为负数时，从右边第start个字符位置开始，即从str.length+start开始</p>
</blockquote>
<h1 id="重复一个字符串n次"><a href="#重复一个字符串n次" class="headerlink" title="重复一个字符串n次"></a>重复一个字符串n次</h1><p>如：<code>(&#39;abc&#39;,3) -&gt; &#39;abcabcabc</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">repeatStringNumTimes</span>(<span class="params">str, num</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// repeat after me</span></span><br><span class="line">  <span class="keyword">var</span> newStr=<span class="string">''</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;num;i++)&#123;</span><br><span class="line">    newStr += str;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">repeatStringNumTimes(<span class="string">"abc"</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p>可能有更好的方法，欢迎大家可以邮件给我。</p>
<h1 id="给定一段文字，从头截取一定长度的字符串"><a href="#给定一段文字，从头截取一定长度的字符串" class="headerlink" title="给定一段文字，从头截取一定长度的字符串"></a>给定一段文字，从头截取一定长度的字符串</h1><p>要求：文字长度小于3，或者小于需要截取的字符长度时，略去<code>...</code>；否则加上省略号，并且省略号本身也计算进截取字符串的长度中。</p>
<p>这题比较奇葩，额外要求多，有兴趣请看原题: <a href="https://www.freecodecamp.com/challenges/truncate-a-string" target="_blank" rel="external">Truncate a string</a></p>
<p>如：<code>(&quot;Peter Piper picked a peck of pickled peppers&quot;, 14) -&gt; Peter Piper...</code>;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">truncateString</span>(<span class="params">str, num</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Clear out that junk in your trunk</span></span><br><span class="line">  <span class="keyword">var</span> len = str.length;</span><br><span class="line">  <span class="keyword">var</span> newStr = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">if</span>(num&lt;=<span class="number">3</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(len&lt;=num)&#123;</span><br><span class="line">      <span class="keyword">return</span> str;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> str.slice(<span class="number">0</span>,num) + <span class="string">'...'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len&lt;=num)&#123;</span><br><span class="line">      <span class="keyword">return</span> str;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> str.slice(<span class="number">0</span>,num<span class="number">-3</span>) + <span class="string">'...'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">truncateString(<span class="string">"A-tisket a-tasket A green and yellow basket"</span>, <span class="number">11</span>);</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/slice" target="_blank" rel="external">slice()</a>方法复制string的一部分构成新的字符串。</p>
<p>语法：</p>
<blockquote>
<p>slice(start, end), end 在这题里为 num 或者 num - 3</p>
</blockquote>
<h1 id="将一维数组转换为二维数组，每个子数组的长度为给定长度"><a href="#将一维数组转换为二维数组，每个子数组的长度为给定长度" class="headerlink" title="将一维数组转换为二维数组，每个子数组的长度为给定长度"></a>将一维数组转换为二维数组，每个子数组的长度为给定长度</h1><blockquote>
<p>最后一个子数组长度不确定</p>
</blockquote>
<p>如：<code>([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;], 2) -&gt; [[&quot;a&quot;, &quot;b&quot;], [&quot;c&quot;, &quot;d&quot;]]</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">chunkArrayInGroups</span>(<span class="params">arr, size</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Break it up.</span></span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i+=size)&#123;</span><br><span class="line">    <span class="keyword">var</span> subArr = arr.slice(i,i+size);</span><br><span class="line">    newArr.push(subArr);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chunkArrayInGroups([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>], <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>这题比较简单，用到数组的两个方法：</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="external">Array.push()</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="external">Array.slice()</a></p>
<h1 id="给定数组，删除前n位，并返回删除后的新数组"><a href="#给定数组，删除前n位，并返回删除后的新数组" class="headerlink" title="给定数组，删除前n位，并返回删除后的新数组"></a>给定数组，删除前n位，并返回删除后的新数组</h1><p>如：<code>([1, 2, 3], 2) -&gt; [3]</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">slasher</span>(<span class="params">arr, howMany</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// it doesn't always pay to be first</span></span><br><span class="line">  arr.splice(arr,howMany);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">slasher([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>这题也很简单，用到了Array的splice()方法：</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="external">Array.splice()</a>方法从<code>Array</code>中移除一个或多个元素，并用新的item替换它们.</p>
<p>语法：</p>
<blockquote>
<p>array.splice(start, deleteCount[, item1[, item2[, …]]])</p>
</blockquote>
<h1 id="给定一段文字str1和一个短语str2，检查str2是否为str1的子集"><a href="#给定一段文字str1和一个短语str2，检查str2是否为str1的子集" class="headerlink" title="给定一段文字str1和一个短语str2，检查str2是否为str1的子集"></a>给定一段文字str1和一个短语str2，检查str2是否为str1的子集</h1><blockquote>
<p>忽略大小写和字符顺序</p>
</blockquote>
<p>如：<code>[&quot;hello&quot;, &quot;hey&quot;] -&gt; false</code>;<code>[&quot;Alien&quot;, &quot;line&quot;] -&gt; true</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mutation</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> m = arr[<span class="number">0</span>].toLowerCase();</span><br><span class="line">  <span class="keyword">var</span> n = arr[<span class="number">1</span>].toLowerCase();</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;n.length;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(m.indexOf(n[i])==<span class="number">-1</span>)&#123;<span class="keyword">return</span> <span class="literal">false</span>;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mutation([<span class="string">"hello"</span>, <span class="string">"Hello"</span>]);</span><br></pre></td></tr></table></figure>
<p>第一次使用<code>indexOf()</code>方法.</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" target="_blank" rel="external">String.indexOf()</a>方法返回指定值在字符串对象中首次出现的位置。从 fromIndex 位置开始查找，如果不存在，则返回 -1。</p>
<p>语法：</p>
<blockquote>
<p>str.indexOf(searchValue[, fromIndex])</p>
</blockquote>
<h1 id="过滤数组中可以表示false的值"><a href="#过滤数组中可以表示false的值" class="headerlink" title="过滤数组中可以表示false的值"></a>过滤数组中可以表示<code>false</code>的值</h1><blockquote>
<p>可判断为false的值有：false, null, 0, “”, undefined, and NaN</p>
</blockquote>
<p>如：<code>[7, &quot;ate&quot;, &quot;&quot;, false, 9] -&gt; [7, 9]</code>; <code>[1, null, NaN, 2, undefined] -&gt; [1, 2].</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bouncer</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Don't show a false ID to this bouncer.</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isFalsy</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Boolean</span>(el) !== <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr.filter(isFalsy);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bouncer([<span class="number">7</span>, <span class="string">"ate"</span>, <span class="string">""</span>, <span class="literal">false</span>, <span class="number">9</span>]);</span><br></pre></td></tr></table></figure>
<p>用到一个Array.filter()方法</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="external">Array.filter()</a>方法使用一个指定的过滤函数，检测Array中的所有元素，并返回一个全部符合过滤条件的新数组。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/13/JS-常用函数和简单算法（一）/" class="next">下一篇</a></div><div class="copyright"><p>© 2016 <a href="http://sstruct.github.io">yangtze</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-76054950-1",'auto');ga('send','pageview');</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>